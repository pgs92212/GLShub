<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GLSHub - Plataforma de Jogos HTML</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Segoe+UI:wght@300;400;600;700&display=swap');
        
        * {
            cursor: url('https://cur.cursors-4u.net/cursors/cur-2/cur116.cur'), auto;
        }
        
        a, button, input[type="submit"], .clickable, [onclick] {
            cursor: url('https://cur.cursors-4u.net/cursors/cur-1/cur45.cur'), pointer;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(180deg, #87CEEB 0%, #E0F7FA 30%, #B2EBF2 60%, #4FC3F7 100%);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(ellipse 80% 50% at 50% 100%, rgba(255,255,255,0.3) 0%, transparent 60%),
                radial-gradient(ellipse 60% 40% at 20% 80%, rgba(144,238,144,0.2) 0%, transparent 50%),
                radial-gradient(ellipse 60% 40% at 80% 70%, rgba(135,206,250,0.3) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        /* Bubbles Animation */
        .bubble {
            position: fixed;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.9), rgba(255,255,255,0.1));
            box-shadow: 
                inset 0 0 20px rgba(255,255,255,0.5),
                0 0 10px rgba(255,255,255,0.3);
            animation: float 15s infinite ease-in-out;
            pointer-events: none;
            z-index: 1;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); opacity: 0.7; }
            50% { transform: translateY(-100px) rotate(180deg); opacity: 1; }
        }

        /* Scrollbar Aero */
        ::-webkit-scrollbar {
            width: 12px;
        }
        ::-webkit-scrollbar-track {
            background: linear-gradient(90deg, #e0e0e0, #f5f5f5, #e0e0e0);
            border-radius: 6px;
        }
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #7dd3fc, #38bdf8, #0ea5e9);
            border-radius: 6px;
            border: 2px solid rgba(255,255,255,0.5);
            box-shadow: inset 0 2px 4px rgba(255,255,255,0.5);
        }
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, #38bdf8, #0ea5e9, #0284c7);
        }

        /* Glass Card Effect */
        .glass-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.6) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.8);
            box-shadow: 
                0 8px 32px rgba(0, 100, 150, 0.15),
                inset 0 2px 0 rgba(255,255,255,0.8),
                inset 0 -2px 0 rgba(0,0,0,0.05);
            border-radius: 12px;
        }

        .glass-card-dark {
            background: linear-gradient(135deg, rgba(255,255,255,0.7) 0%, rgba(240,248,255,0.5) 100%);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255,255,255,0.6);
            box-shadow: 
                0 8px 32px rgba(0, 100, 150, 0.2),
                inset 0 1px 0 rgba(255,255,255,0.9);
        }

        /* Glossy Button */
        .glossy-btn {
            background: linear-gradient(180deg, #7dd3fc 0%, #38bdf8 50%, #0ea5e9 100%);
            border: 1px solid #0284c7;
            box-shadow: 
                0 4px 15px rgba(14, 165, 233, 0.4),
                inset 0 2px 0 rgba(255,255,255,0.4),
                inset 0 -2px 0 rgba(0,0,0,0.1);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
            transition: all 0.2s ease;
        }

        .glossy-btn:hover {
            background: linear-gradient(180deg, #bae6fd 0%, #7dd3fc 50%, #38bdf8 100%);
            box-shadow: 
                0 6px 20px rgba(14, 165, 233, 0.5),
                inset 0 2px 0 rgba(255,255,255,0.5);
            transform: translateY(-2px);
        }

        .glossy-btn-green {
            background: linear-gradient(180deg, #86efac 0%, #4ade80 50%, #22c55e 100%);
            border: 1px solid #16a34a;
            box-shadow: 
                0 4px 15px rgba(34, 197, 94, 0.4),
                inset 0 2px 0 rgba(255,255,255,0.4),
                inset 0 -2px 0 rgba(0,0,0,0.1);
        }

        .glossy-btn-green:hover {
            background: linear-gradient(180deg, #bbf7d0 0%, #86efac 50%, #4ade80 100%);
            box-shadow: 
                0 6px 20px rgba(34, 197, 94, 0.5),
                inset 0 2px 0 rgba(255,255,255,0.5);
            transform: translateY(-2px);
        }

        /* Navbar Aero */
        .navbar-aero {
            background: linear-gradient(180deg, rgba(255,255,255,0.95) 0%, rgba(230,245,255,0.9) 100%);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255,255,255,0.8);
            box-shadow: 
                0 4px 20px rgba(0,100,150,0.1),
                inset 0 -1px 0 rgba(0,0,0,0.05),
                inset 0 1px 0 rgba(255,255,255,1);
        }

        /* Game Card Hover */
        .game-card {
            transition: all 0.3s ease;
        }

        .game-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 
                0 20px 40px rgba(0,100,150,0.25),
                inset 0 2px 0 rgba(255,255,255,0.9);
        }

        /* Input Aero Style */
        .input-aero {
            background: linear-gradient(180deg, #f8fafc 0%, #ffffff 100%);
            border: 1px solid #b0c4de;
            box-shadow: 
                inset 0 2px 4px rgba(0,0,0,0.08),
                0 1px 0 rgba(255,255,255,0.8);
            border-radius: 6px;
            transition: all 0.2s ease;
        }

        .input-aero:focus {
            border-color: #38bdf8;
            box-shadow: 
                inset 0 2px 4px rgba(0,0,0,0.08),
                0 0 0 3px rgba(56,189,248,0.3),
                0 1px 0 rgba(255,255,255,0.8);
            outline: none;
        }

        /* Modal Aero */
        .modal-aero {
            background: linear-gradient(180deg, rgba(255,255,255,0.98) 0%, rgba(240,248,255,0.95) 100%);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.9);
            box-shadow: 
                0 25px 50px rgba(0,80,120,0.3),
                inset 0 2px 0 rgba(255,255,255,1);
            border-radius: 16px;
        }

        /* Leaf decoration */
        .leaf-decoration {
            position: fixed;
            width: 100px;
            height: 100px;
            background: radial-gradient(ellipse at center, rgba(144,238,144,0.3) 0%, transparent 70%);
            border-radius: 50%;
            filter: blur(20px);
            pointer-events: none;
            z-index: 1;
        }

        /* Aurora effect */
        .aurora {
            position: fixed;
            top: -50%;
            left: -50%;
            right: -50%;
            bottom: -50%;
            background: 
                linear-gradient(45deg, transparent 40%, rgba(135,206,250,0.1) 45%, transparent 50%),
                linear-gradient(-45deg, transparent 40%, rgba(144,238,144,0.1) 45%, transparent 50%);
            animation: aurora 20s infinite linear;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes aurora {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .text-shadow-white {
            text-shadow: 0 1px 2px rgba(255,255,255,0.8), 0 2px 4px rgba(0,100,150,0.1);
        }

        .play-overlay {
            background: linear-gradient(180deg, rgba(255,255,255,0.9) 0%, rgba(135,206,250,0.8) 100%);
        }
    </style>
</head>
<body class="min-h-screen flex flex-col text-gray-700">

    <!-- Aurora Background Effect -->
    <div class="aurora"></div>

    <!-- Floating Bubbles -->
    <div class="bubble" style="width: 60px; height: 60px; left: 10%; top: 20%; animation-delay: 0s;"></div>
    <div class="bubble" style="width: 40px; height: 40px; left: 20%; top: 60%; animation-delay: 2s;"></div>
    <div class="bubble" style="width: 80px; height: 80px; left: 70%; top: 30%; animation-delay: 4s;"></div>
    <div class="bubble" style="width: 30px; height: 30px; left: 80%; top: 70%; animation-delay: 6s;"></div>
    <div class="bubble" style="width: 50px; height: 50px; left: 50%; top: 80%; animation-delay: 8s;"></div>
    <div class="bubble" style="width: 35px; height: 35px; left: 5%; top: 85%; animation-delay: 3s;"></div>
    <div class="bubble" style="width: 45px; height: 45px; left: 90%; top: 15%; animation-delay: 5s;"></div>

    <!-- Leaf Decorations -->
    <div class="leaf-decoration" style="top: 10%; left: 5%;"></div>
    <div class="leaf-decoration" style="bottom: 20%; right: 10%;"></div>

    <!-- Navbar -->
    <nav class="navbar-aero sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center gap-3 cursor-pointer" onclick="app.goHome()">
                    <div class="glossy-btn p-2 rounded-lg">
                        <i class="fa-solid fa-gamepad text-white text-xl"></i>
                    </div>
                    <span class="text-2xl font-bold tracking-tight bg-gradient-to-r from-sky-600 to-teal-500 bg-clip-text text-transparent">GLSHub</span>
                </div>
                
                <div class="hidden md:block">
                    <div class="ml-10 flex items-center space-x-4" id="nav-links">
                        <!-- Links din√¢micos via JS -->
                    </div>
                </div>

                <div class="md:hidden">
                    <button onclick="document.getElementById('mobile-menu').classList.toggle('hidden')" class="text-sky-600 hover:text-sky-700 p-2">
                        <i class="fa-solid fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div class="md:hidden hidden glass-card mx-4 mb-4" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3" id="mobile-nav-links">
                <!-- Mobile Links din√¢micos -->
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-grow container mx-auto px-4 py-8 relative z-10">
        
        <!-- Hero Section -->
        <div id="hero-section" class="text-center mb-12 py-12 glass-card relative overflow-hidden">
            <!-- Top gradient bar -->
            <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-sky-400 via-teal-400 to-green-400"></div>
            
            <!-- Decorative circles -->
            <div class="absolute -top-10 -right-10 w-40 h-40 bg-gradient-to-br from-sky-200/50 to-transparent rounded-full blur-2xl"></div>
            <div class="absolute -bottom-10 -left-10 w-40 h-40 bg-gradient-to-tr from-green-200/50 to-transparent rounded-full blur-2xl"></div>
            
            <h1 class="text-4xl md:text-5xl font-bold mb-4">
                <span class="bg-gradient-to-r from-sky-600 via-cyan-500 to-teal-500 bg-clip-text text-transparent">Bem-vindo ao</span>
                <span class="bg-gradient-to-r from-teal-500 to-green-500 bg-clip-text text-transparent">GLSHub</span>
            </h1>
            <p class="text-gray-600 text-lg max-w-2xl mx-auto mb-8 px-4">
                ‚ú® Publique seus jogos HTML, compartilhe URLs e jogue cria√ß√µes da comunidade. Simples, r√°pido e gratuito! üéÆ
            </p>
            <div id="hero-cta" class="flex flex-wrap justify-center gap-4">
                <!-- Bot√µes din√¢micos -->
            </div>
        </div>

        <!-- Search & Filter -->
        <div class="flex flex-col md:flex-row justify-between items-center mb-8 gap-4">
            <h2 class="text-2xl font-bold text-sky-700 flex items-center gap-2">
                <span class="w-1.5 h-8 bg-gradient-to-b from-sky-400 to-teal-400 rounded-full"></span>
                Jogos Recentes
            </h2>
            <div class="relative w-full md:w-72">
                <input type="text" id="search-input" oninput="app.searchGames(this.value)" placeholder="üîç Buscar jogos..." class="input-aero w-full py-2.5 px-4 pl-4 text-gray-700 placeholder-gray-400">
            </div>
        </div>

        <!-- Game Grid -->
        <div id="game-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
            <!-- Cards de jogos ser√£o renderizados aqui -->
        </div>

        <!-- Empty State -->
        <div id="empty-state" class="hidden text-center py-20 glass-card">
            <i class="fa-regular fa-folder-open text-6xl text-sky-300 mb-4"></i>
            <p class="text-xl text-gray-500">Nenhum jogo encontrado.</p>
        </div>

    </main>

    <!-- Footer -->
    <footer class="glass-card-dark py-6 mt-12 relative z-10">
        <div class="container mx-auto px-4 text-center">
            <p class="text-gray-500 text-sm flex items-center justify-center gap-2">
                <i class="fa-solid fa-leaf text-green-400"></i>
                ¬© 2026 GLSHub. Criado com amor para divers√£o.
                <i class="fa-solid fa-water text-sky-400"></i>
            </p>
        </div>
    </footer>

    <!-- MODALS -->

    <!-- Login Modal -->
    <div id="login-modal" class="fixed inset-0 z-[60] hidden overflow-y-auto" aria-labelledby="modal-title" role="dialog" aria-modal="true">
        <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:p-0">
            <div class="fixed inset-0 bg-sky-900/30 backdrop-blur-sm transition-opacity" onclick="app.closeModal('login-modal')"></div>
            <div class="modal-aero inline-block align-middle max-w-md w-full p-6 relative z-10 transform transition-all">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-bold bg-gradient-to-r from-sky-600 to-teal-500 bg-clip-text text-transparent">
                        <i class="fa-solid fa-user-circle mr-2"></i>Entrar na Conta
                    </h3>
                    <button onclick="app.closeModal('login-modal')" class="text-gray-400 hover:text-gray-600 text-xl"><i class="fa-solid fa-times"></i></button>
                </div>
                <form onsubmit="app.handleLogin(event)" class="space-y-4">
                    <div class="text-left">
                        <label class="block text-sm font-medium text-gray-600 mb-1">Email (Gmail)</label>
                        <input type="email" id="login-email" required placeholder="seu.nome@gmail.com" class="input-aero w-full py-2.5 px-4">
                        <p class="text-xs text-gray-400 mt-1">‚úâÔ∏è Utilize seu endere√ßo @gmail.com para acessar.</p>
                    </div>
                    <div class="text-left">
                        <label class="block text-sm font-medium text-gray-600 mb-1">Senha</label>
                        <input type="password" id="login-password" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" class="input-aero w-full py-2.5 px-4">
                    </div>
                    <button type="submit" class="glossy-btn w-full py-3 px-4 rounded-lg text-white font-semibold">
                        <i class="fa-solid fa-sign-in-alt mr-2"></i>Entrar
                    </button>
                </form>
                <div class="mt-5 text-center">
                    <p class="text-sm text-gray-500">N√£o tem conta? <a href="#" onclick="app.switchModal('login-modal', 'register-modal')" class="text-sky-500 hover:text-sky-600 font-medium">Cadastre-se</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="register-modal" class="fixed inset-0 z-[60] hidden overflow-y-auto" role="dialog" aria-modal="true">
        <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:p-0">
            <div class="fixed inset-0 bg-sky-900/30 backdrop-blur-sm transition-opacity" onclick="app.closeModal('register-modal')"></div>
            <div class="modal-aero inline-block align-middle max-w-md w-full p-6 relative z-10 transform transition-all">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-bold bg-gradient-to-r from-green-500 to-teal-500 bg-clip-text text-transparent">
                        <i class="fa-solid fa-user-plus mr-2"></i>Criar Conta
                    </h3>
                    <button onclick="app.closeModal('register-modal')" class="text-gray-400 hover:text-gray-600 text-xl"><i class="fa-solid fa-times"></i></button>
                </div>
                <form onsubmit="app.handleRegister(event)" class="space-y-4">
                    <div class="text-left">
                        <label class="block text-sm font-medium text-gray-600 mb-1">Nome de Usu√°rio</label>
                        <input type="text" id="reg-username" required placeholder="SeuNickname" class="input-aero w-full py-2.5 px-4">
                    </div>
                    <div class="text-left">
                        <label class="block text-sm font-medium text-gray-600 mb-1">Email (Gmail)</label>
                        <input type="email" id="reg-email" required placeholder="exemplo@gmail.com" class="input-aero w-full py-2.5 px-4">
                        <p class="text-xs text-red-400 mt-1 hidden" id="reg-email-error">‚ùå √â necess√°rio usar um email @gmail.com</p>
                    </div>
                    <div class="text-left">
                        <label class="block text-sm font-medium text-gray-600 mb-1">Senha</label>
                        <input type="password" id="reg-password" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" class="input-aero w-full py-2.5 px-4">
                    </div>
                    <button type="submit" class="glossy-btn-green w-full py-3 px-4 rounded-lg text-white font-semibold">
                        <i class="fa-solid fa-check-circle mr-2"></i>Cadastrar
                    </button>
                </form>
                <div class="mt-5 text-center">
                    <p class="text-sm text-gray-500">J√° tem conta? <a href="#" onclick="app.switchModal('register-modal', 'login-modal')" class="text-sky-500 hover:text-sky-600 font-medium">Entre aqui</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Submit Game Modal -->
    <div id="submit-modal" class="fixed inset-0 z-[60] hidden overflow-y-auto" role="dialog" aria-modal="true">
        <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:p-0">
            <div class="fixed inset-0 bg-sky-900/30 backdrop-blur-sm transition-opacity" onclick="app.closeModal('submit-modal')"></div>
            <div class="modal-aero inline-block align-middle max-w-lg w-full p-6 relative z-10 transform transition-all">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-bold bg-gradient-to-r from-sky-600 to-teal-500 bg-clip-text text-transparent">
                        <i class="fa-solid fa-cloud-upload-alt mr-2"></i>Publicar Novo Jogo
                    </h3>
                    <button onclick="app.closeModal('submit-modal')" class="text-gray-400 hover:text-gray-600 text-xl"><i class="fa-solid fa-times"></i></button>
                </div>
                <form onsubmit="app.handleSubmitGame(event)" class="space-y-4">
                    <div class="text-left">
                        <label class="block text-sm font-medium text-gray-600 mb-1">T√≠tulo do Jogo</label>
                        <input type="text" id="game-title" required placeholder="Ex: Super Mario Clone" class="input-aero w-full py-2.5 px-4">
                    </div>
                    <div class="text-left">
                        <label class="block text-sm font-medium text-gray-600 mb-1">Descri√ß√£o Curta</label>
                        <textarea id="game-desc" rows="2" required placeholder="Descreva seu jogo..." class="input-aero w-full py-2.5 px-4 resize-none"></textarea>
                    </div>
                    <div class="text-left">
                        <label class="block text-sm font-medium text-gray-600 mb-1">URL da Imagem (Thumbnail)</label>
                        <input type="url" id="game-thumb" placeholder="https://..." class="input-aero w-full py-2.5 px-4">
                        <p class="text-xs text-gray-400 mt-1">üñºÔ∏è Deixe em branco para usar imagem padr√£o.</p>
                    </div>
                    <!-- Game Type Selection -->
                    <div class="text-left">
                        <label class="block text-sm font-medium text-gray-600 mb-2">Tipo de Publica√ß√£o</label>
                        <div class="flex gap-2 mb-3">
                            <button type="button" onclick="app.toggleSubmitType('url')" id="btn-type-url" class="flex-1 py-2 px-3 rounded-lg text-sm font-bold border transition-all bg-sky-100 border-sky-300 text-sky-700 shadow-inner">
                                <i class="fa-solid fa-link mr-1"></i> Link (URL)
                            </button>
                            <button type="button" onclick="app.toggleSubmitType('html')" id="btn-type-html" class="flex-1 py-2 px-3 rounded-lg text-sm font-medium border transition-all bg-white border-gray-300 text-gray-500 hover:bg-gray-50">
                                <i class="fa-solid fa-code mr-1"></i> C√≥digo HTML
                            </button>
                        </div>
                    </div>

                    <!-- Input URL -->
                    <div id="input-container-url" class="text-left">
                        <label class="block text-sm font-medium text-gray-600 mb-1">URL do Jogo</label>
                        <input type="url" id="game-url" placeholder="https://exemplo.com/jogo" class="input-aero w-full py-2.5 px-4">
                        <p class="text-xs text-amber-500 mt-1"><i class="fa-solid fa-triangle-exclamation"></i> Certifique-se que o link permite embed (iframe).</p>
                    </div>

                    <!-- Input HTML -->
                    <div id="input-container-html" class="text-left hidden">
                        <label class="block text-sm font-medium text-gray-600 mb-1">Cole o C√≥digo HTML</label>
                        <textarea id="game-html" rows="6" placeholder="<!DOCTYPE html><html>...</html>" class="input-aero w-full py-2.5 px-4 font-mono text-xs"></textarea>
                        <p class="text-xs text-gray-400 mt-1">üìù Cole o c√≥digo completo do seu jogo aqui (HTML/JS/CSS).</p>
                    </div>
                    <button type="submit" class="glossy-btn w-full py-3 px-4 rounded-lg text-white font-semibold">
                        <i class="fa-solid fa-rocket mr-2"></i>Publicar Jogo
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Play Game Modal -->
    <div id="play-modal" class="fixed inset-0 z-[70] hidden overflow-hidden" role="dialog" aria-modal="true">
        <div class="absolute inset-0 bg-gradient-to-b from-sky-100/95 to-white/95 backdrop-blur-md flex flex-col">
            <!-- Header do Player -->
            <div class="navbar-aero p-4 flex justify-between items-center shrink-0">
                <div class="flex items-center gap-3">
                    <button onclick="app.closeModal('play-modal')" class="glossy-btn text-white px-3 py-2 rounded-lg">
                        <i class="fa-solid fa-arrow-left"></i>
                    </button>
                    <h2 id="play-title" class="text-xl font-bold text-sky-700">Jogando...</h2>
                    <span id="play-author" class="text-sm text-gray-500 bg-sky-100 px-3 py-1 rounded-full border border-sky-200">Autor</span>
                </div>
                <div class="flex gap-2">
                    <button onclick="app.toggleFullscreen()" class="glossy-btn text-white px-3 py-2 rounded-lg" title="Tela Cheia">
                        <i class="fa-solid fa-expand"></i>
                    </button>
                </div>
            </div>
            
            <!-- Iframe Container -->
            <div class="flex-grow relative bg-white flex justify-center items-center overflow-hidden m-4 rounded-2xl shadow-2xl border border-white/50">
                <div id="loading-spinner" class="absolute text-sky-400 text-5xl animate-spin">
                    <i class="fa-solid fa-circle-notch"></i>
                </div>
                <iframe id="game-iframe" class="w-full h-full border-0 rounded-2xl" allowfullscreen sandbox="allow-scripts allow-same-origin allow-popups allow-forms"></iframe>
            </div>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-analytics.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged, updateProfile } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
        import { getFirestore, collection, addDoc, getDocs, query, orderBy, onSnapshot } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        // FIREBASE CONFIGURATION
        const firebaseConfig = {
            apiKey: "AIzaSyCS1NBS0qrLiCpV_OSqpUKoipxzdGiUQ48",
            authDomain: "glshub.firebaseapp.com",
            projectId: "glshub",
            storageBucket: "glshub.firebasestorage.app",
            messagingSenderId: "1020833468968",
            appId: "1:1020833468968:web:adb9e1e604ebcc1e98db1d",
            measurementId: "G-1TGK9KLKQL"
        };

        // Initialize Firebase
        const firebaseApp = initializeApp(firebaseConfig);
        const analytics = getAnalytics(firebaseApp);
        const auth = getAuth(firebaseApp);
        const db = getFirestore(firebaseApp);

        // APP LOGIC
        window.app = {
            state: {
                currentUser: null,
                games: []
            },

            init() {
                this.setupAuthListener();
                this.setupGamesListener();
                
                const iframe = document.getElementById('game-iframe');
                if(iframe) {
                    iframe.onload = () => {
                        const spinner = document.getElementById('loading-spinner');
                        if(spinner) spinner.style.display = 'none';
                    };
                }
            },

            setupAuthListener() {
                onAuthStateChanged(auth, (user) => {
                    if (user) {
                        this.state.currentUser = {
                            username: user.displayName || user.email.split('@')[0],
                            email: user.email,
                            uid: user.uid
                        };
                        this.renderNav();
                        this.renderHeroCTA();
                        console.log("User logged in:", this.state.currentUser.username);
                    } else {
                        this.state.currentUser = null;
                        this.renderNav();
                        this.renderHeroCTA();
                        console.log("User logged out");
                    }
                });
            },

            setupGamesListener() {
                const q = query(collection(db, "games"), orderBy("timestamp", "desc"));
                onSnapshot(q, (querySnapshot) => {
                    this.state.games = [];
                    querySnapshot.forEach((doc) => {
                        this.state.games.push({ id: doc.id, ...doc.data() });
                    });
                    this.renderGames();
                }, (error) => {
                    console.error("Error getting games:", error);
                });
            },

            // --- AUTH ---

            async handleRegister(e) {
                e.preventDefault();
                const username = document.getElementById('reg-username').value;
                const email = document.getElementById('reg-email').value.toLowerCase();
                const password = document.getElementById('reg-password').value;
                const errorMsg = document.getElementById('reg-email-error');

                if (!email.endsWith('@gmail.com')) {
                    errorMsg.classList.remove('hidden');
                    return;
                }
                errorMsg.classList.add('hidden');

                try {
                    const userCredential = await createUserWithEmailAndPassword(auth, email, password);
                    const user = userCredential.user;
                    
                    // Update profile with username
                    await updateProfile(user, {
                        displayName: username
                    });

                    // Force local state update
                    this.state.currentUser = {
                        username: username,
                        email: email,
                        uid: user.uid
                    };

                    if (window.SoundFX && window.SoundFX.audioContext) window.SoundFX.playSuccess();
                    this.showToast('‚úÖ Cadastro realizado com sucesso!', 'green');
                    this.closeModal('register-modal');
                } catch (error) {
                    console.error("Register Error:", error);
                    let msg = 'Erro ao cadastrar.';
                    if (error.code === 'auth/email-already-in-use') msg = 'Este email j√° est√° em uso.';
                    if (error.code === 'auth/weak-password') msg = 'A senha deve ter pelo menos 6 caracteres.';
                    alert(msg);
                }
            },

            async handleLogin(e) {
                e.preventDefault();
                const email = document.getElementById('login-email').value.toLowerCase();
                const password = document.getElementById('login-password').value;

                if (!email.endsWith('@gmail.com')) {
                    alert('Por favor, utilize um email @gmail.com');
                    return;
                }

                try {
                    await signInWithEmailAndPassword(auth, email, password);
                    this.closeModal('login-modal');
                    if (window.SoundFX && window.SoundFX.audioContext) window.SoundFX.playSuccess();
                    this.showToast(`üéâ Bem-vindo de volta!`, 'sky');
                } catch (error) {
                    console.error("Login Error:", error);
                    let msg = 'Erro ao entrar.';
                    if (error.code === 'auth/invalid-credential' || error.code === 'auth/wrong-password' || error.code === 'auth/user-not-found') {
                        msg = 'Email ou senha incorretos.';
                    }
                    alert(msg);
                }
            },

            async logout() {
                if(confirm('Tem certeza que deseja sair?')) {
                    try {
                        await signOut(auth);
                        this.showToast('üëã Voc√™ saiu da conta.', 'gray');
                    } catch (error) {
                        console.error("Logout Error:", error);
                    }
                }
            },

            // --- GAMES CRUD ---

            toggleSubmitType(type) {
                const btnUrl = document.getElementById('btn-type-url');
                const btnHtml = document.getElementById('btn-type-html');
                const containerUrl = document.getElementById('input-container-url');
                const containerHtml = document.getElementById('input-container-html');
                const inputUrl = document.getElementById('game-url');
                const inputHtml = document.getElementById('game-html');

                if (type === 'url') {
                    // UI Styles
                    btnUrl.className = "flex-1 py-2 px-3 rounded-lg text-sm font-bold border transition-all bg-sky-100 border-sky-300 text-sky-700 shadow-inner";
                    btnHtml.className = "flex-1 py-2 px-3 rounded-lg text-sm font-medium border transition-all bg-white border-gray-300 text-gray-500 hover:bg-gray-50";
                    
                    // Visibility
                    containerUrl.classList.remove('hidden');
                    containerHtml.classList.add('hidden');
                    
                    // Required attribute handling
                    inputUrl.setAttribute('required', '');
                    inputHtml.removeAttribute('required');
                } else {
                    // UI Styles
                    btnHtml.className = "flex-1 py-2 px-3 rounded-lg text-sm font-bold border transition-all bg-sky-100 border-sky-300 text-sky-700 shadow-inner";
                    btnUrl.className = "flex-1 py-2 px-3 rounded-lg text-sm font-medium border transition-all bg-white border-gray-300 text-gray-500 hover:bg-gray-50";
                    
                    // Visibility
                    containerHtml.classList.remove('hidden');
                    containerUrl.classList.add('hidden');
                    
                    // Required attribute handling
                    inputHtml.setAttribute('required', '');
                    inputUrl.removeAttribute('required');
                }
            },

            async handleSubmitGame(e) {
                e.preventDefault();
                if (!auth.currentUser) return;

                const title = document.getElementById('game-title').value;
                const desc = document.getElementById('game-desc').value;
                const thumb = document.getElementById('game-thumb').value || 'https://placehold.co/600x400/87CEEB/FFF?text=üéÆ+GAME';
                
                // Determine type
                const isUrlMode = !document.getElementById('input-container-url').classList.contains('hidden');
                
                const newGame = {
                    title,
                    desc,
                    thumb,
                    author: this.state.currentUser.username,
                    uid: this.state.currentUser.uid,
                    timestamp: Date.now(),
                    type: isUrlMode ? 'url' : 'html',
                    content: isUrlMode ? document.getElementById('game-url').value : document.getElementById('game-html').value
                };

                try {
                    await addDoc(collection(db, "games"), newGame);
                    
                    this.closeModal('submit-modal');
                    e.target.reset();
                    this.toggleSubmitType('url');
                    
                    if (window.SoundFX && window.SoundFX.audioContext) window.SoundFX.playSuccess();
                    this.showToast('üöÄ Jogo publicado no Firebase!', 'green');
                    
                    const grid = document.getElementById('game-grid');
                    if(grid) window.scrollTo({ top: grid.offsetTop - 100, behavior: 'smooth' });

                } catch (e) {
                    console.error("Error adding document: ", e);
                    alert("Erro ao publicar jogo.");
                }
            },

            searchGames(query) {
                // Client-side filtering of the realtime list
                const filtered = this.state.games.filter(g => 
                    g.title.toLowerCase().includes(query.toLowerCase()) || 
                    g.desc.toLowerCase().includes(query.toLowerCase())
                );
                this.renderGames(filtered);
            },

            playGame(id) {
                // Find game by ID (string from firestore)
                const game = this.state.games.find(g => g.id === id);
                if (!game) return;

                document.getElementById('play-title').innerText = game.title;
                document.getElementById('play-author').innerText = 'üë§ ' + game.author;
                
                const iframe = document.getElementById('game-iframe');
                
                // Reset iframe
                iframe.src = '';
                iframe.removeAttribute('srcdoc');
                
                document.getElementById('loading-spinner').style.display = 'block';
                
                setTimeout(() => {
                    if (game.type === 'html') {
                        iframe.srcdoc = game.content;
                    } else {
                        iframe.src = game.content || game.url;
                    }
                }, 100);

                this.openModal('play-modal');
            },

            // --- UI RENDERING ---

            renderNav() {
                const desktopNav = document.getElementById('nav-links');
                const mobileNav = document.getElementById('mobile-nav-links');
                
                let html = '';
                let mobileHtml = '';

                if (this.state.currentUser) {
                    const userHtml = `
                        <a href="#" onclick="app.openModal('submit-modal')" class="glossy-btn text-white px-4 py-2 rounded-lg text-sm font-medium"><i class="fa-solid fa-plus mr-1"></i> Publicar</a>
                        <span class="text-sky-600 px-4 py-2 text-sm font-medium border border-sky-300 rounded-full bg-sky-50">üë§ ${this.state.currentUser.username}</span>
                        <a href="#" onclick="app.logout()" class="text-red-400 hover:text-red-500 px-3 py-2 rounded-md text-sm font-medium"><i class="fa-solid fa-sign-out-alt"></i></a>
                    `;
                    
                    const mobileUserHtml = `
                        <a href="#" onclick="app.openModal('submit-modal')" class="text-sky-600 hover:bg-sky-50 block px-3 py-2 rounded-md text-base font-medium">üì§ Publicar Jogo</a>
                        <a href="#" onclick="app.logout()" class="text-red-400 hover:bg-red-50 block px-3 py-2 rounded-md text-base font-medium">üö™ Sair (${this.state.currentUser.username})</a>
                    `;

                    html = userHtml;
                    mobileHtml = mobileUserHtml;
                } else {
                    const guestHtml = `
                        <a href="#" onclick="app.openModal('login-modal')" class="text-gray-600 hover:text-sky-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">Entrar</a>
                        <a href="#" onclick="app.openModal('register-modal')" class="glossy-btn-green text-white px-4 py-2 rounded-lg text-sm font-medium">Criar Conta</a>
                    `;

                    const mobileGuestHtml = `
                        <a href="#" onclick="app.openModal('login-modal')" class="text-gray-600 hover:bg-sky-50 block px-3 py-2 rounded-md text-base font-medium">üîë Entrar</a>
                        <a href="#" onclick="app.openModal('register-modal')" class="text-green-600 hover:bg-green-50 block px-3 py-2 rounded-md text-base font-medium">‚ú® Criar Conta</a>
                    `;

                    html = guestHtml;
                    mobileHtml = mobileGuestHtml;
                }

                if(desktopNav) desktopNav.innerHTML = html;
                if(mobileNav) mobileNav.innerHTML = mobileHtml;
            },

            renderHeroCTA() {
                const container = document.getElementById('hero-cta');
                if(!container) return;
                
                if (this.state.currentUser) {
                    container.innerHTML = `
                         <button onclick="app.openModal('submit-modal')" class="glossy-btn text-white font-bold py-3 px-8 rounded-full shadow-lg transition transform hover:scale-105">
                            <i class="fa-solid fa-upload mr-2"></i> Enviar Jogo
                        </button>
                    `;
                } else {
                    container.innerHTML = `
                        <button onclick="app.openModal('register-modal')" class="glossy-btn-green text-white font-bold py-3 px-8 rounded-full shadow-lg transition transform hover:scale-105">
                            ‚ú® Come√ßar Agora
                        </button>
                        <button onclick="document.getElementById('game-grid').scrollIntoView({behavior: 'smooth'})" class="glossy-btn text-white font-bold py-3 px-8 rounded-full shadow-lg transition">
                            üéÆ Explorar Jogos
                        </button>
                    `;
                }
            },

            renderGames(gamesList = null) {
                const grid = document.getElementById('game-grid');
                const empty = document.getElementById('empty-state');
                const list = gamesList || this.state.games;

                if(!grid || !empty) return;

                grid.innerHTML = '';

                if (list.length === 0) {
                    empty.classList.remove('hidden');
                    return;
                }
                empty.classList.add('hidden');

                list.forEach(game => {
                    const card = document.createElement('div');
                    card.className = "game-card glass-card overflow-hidden flex flex-col h-full";
                    // Note: id passed as string needs quotes
                    card.innerHTML = `
                        <div class="h-48 overflow-hidden relative group cursor-pointer" onclick="app.playGame('${game.id}')">
                            <img src="${game.thumb}" alt="${game.title}" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500" onerror="this.src='https://placehold.co/600x400/87CEEB/FFF?text=üéÆ'">
                            <div class="play-overlay absolute inset-0 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity duration-300">
                                <div class="glossy-btn p-4 rounded-full">
                                    <i class="fa-solid fa-play text-white text-2xl"></i>
                                </div>
                            </div>
                        </div>
                        <div class="p-5 flex-grow flex flex-col bg-gradient-to-b from-white/80 to-sky-50/50">
                            <div class="flex justify-between items-start mb-2">
                                <h3 class="text-xl font-bold text-gray-700 truncate w-3/4" title="${game.title}">${game.title}</h3>
                                <span class="bg-gradient-to-r from-sky-100 to-teal-100 text-xs text-sky-600 px-2 py-1 rounded-full border border-sky-200">HTML5</span>
                            </div>
                            <p class="text-gray-500 text-sm mb-4 line-clamp-2 flex-grow">${game.desc}</p>
                            <div class="flex items-center justify-between mt-auto pt-4 border-t border-sky-100">
                                <div class="flex items-center gap-2">
                                    <div class="w-7 h-7 rounded-full bg-gradient-to-br from-sky-400 to-teal-400 flex items-center justify-center text-xs text-white font-bold shadow-md">
                                        ${game.author ? game.author.charAt(0).toUpperCase() : 'A'}
                                    </div>
                                    <span class="text-xs text-gray-500 truncate max-w-[80px]">${game.author || 'Anon'}</span>
                                </div>
                                <button onclick="app.playGame('${game.id}')" class="glossy-btn text-white text-sm font-medium px-4 py-1.5 rounded-full">
                                    JOGAR <i class="fa-solid fa-arrow-right ml-1"></i>
                                </button>
                            </div>
                        </div>
                    `;
                    grid.appendChild(card);
                });
            },

            // --- UTILS ---

            showToast(message, color) {
                const toast = document.createElement('div');
                const bgColor = color === 'green' ? 'from-green-400 to-teal-400' : 
                               color === 'sky' ? 'from-sky-400 to-cyan-400' : 'from-gray-400 to-gray-500';
                toast.className = `fixed bottom-5 right-5 bg-gradient-to-r ${bgColor} text-white px-6 py-3 rounded-xl shadow-xl z-[100] font-medium border border-white/30`;
                toast.style.boxShadow = '0 10px 40px rgba(0,100,150,0.3)';
                toast.innerHTML = message;
                document.body.appendChild(toast);
                setTimeout(() => {
                    toast.style.opacity = '0';
                    toast.style.transform = 'translateY(20px)';
                    toast.style.transition = 'all 0.3s ease';
                    setTimeout(() => toast.remove(), 300);
                }, 3000);
            },

            openModal(id) {
                const el = document.getElementById(id);
                if(el) el.classList.remove('hidden');
                if (window.SoundFX && window.SoundFX.audioContext) window.SoundFX.playPop();
            },

            closeModal(id) {
                if (id === 'play-modal') {
                    const iframe = document.getElementById('game-iframe');
                    if(iframe) iframe.src = '';
                }
                const el = document.getElementById(id);
                if(el) el.classList.add('hidden');
                if (window.SoundFX && window.SoundFX.audioContext) window.SoundFX.playClose();
            },

            switchModal(from, to) {
                this.closeModal(from);
                setTimeout(() => this.openModal(to), 300);
            },

            toggleFullscreen() {
                const elem = document.getElementById('play-modal');
                if (!document.fullscreenElement) {
                    elem.requestFullscreen().catch(err => {
                        alert(`Erro ao entrar em tela cheia: ${err.message}`);
                    });
                } else {
                    document.exitFullscreen();
                }
            },
            
            goHome() {
                const search = document.getElementById('search-input');
                if(search) search.value = '';
                this.renderGames();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        };

        // Initialize when module loads
        window.app.init();

        // ===== SOUND EFFECTS SYSTEM =====
        const SoundFX = {
            audioContext: null,
            
            init() {
                this.audioContext = new (window.AudioContext || window.webkitAudioContext)();
                this.addClickListeners();
            },

            // Som de clique suave estilo Windows 7
            playClick() {
                if (!this.audioContext) return;
                
                const ctx = this.audioContext;
                const oscillator = ctx.createOscillator();
                const gainNode = ctx.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(ctx.destination);
                
                oscillator.frequency.setValueAtTime(600, ctx.currentTime);
                oscillator.frequency.exponentialRampToValueAtTime(400, ctx.currentTime + 0.1);
                oscillator.type = 'sine';
                
                gainNode.gain.setValueAtTime(0.3, ctx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.15);
                
                oscillator.start(ctx.currentTime);
                oscillator.stop(ctx.currentTime + 0.15);
            },

            // Som de sucesso (para a√ß√µes positivas)
            playSuccess() {
                if (!this.audioContext) return;
                
                const ctx = this.audioContext;
                
                // Primeiro tom
                const osc1 = ctx.createOscillator();
                const gain1 = ctx.createGain();
                osc1.connect(gain1);
                gain1.connect(ctx.destination);
                osc1.frequency.setValueAtTime(523.25, ctx.currentTime); // C5
                osc1.type = 'sine';
                gain1.gain.setValueAtTime(0.2, ctx.currentTime);
                gain1.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.2);
                osc1.start(ctx.currentTime);
                osc1.stop(ctx.currentTime + 0.2);
                
                // Segundo tom (mais alto)
                const osc2 = ctx.createOscillator();
                const gain2 = ctx.createGain();
                osc2.connect(gain2);
                gain2.connect(ctx.destination);
                osc2.frequency.setValueAtTime(659.25, ctx.currentTime + 0.1); // E5
                osc2.type = 'sine';
                gain2.gain.setValueAtTime(0.01, ctx.currentTime);
                gain2.gain.setValueAtTime(0.25, ctx.currentTime + 0.1);
                gain2.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.35);
                osc2.start(ctx.currentTime + 0.1);
                osc2.stop(ctx.currentTime + 0.35);
            },

            // Som de hover suave
            playHover() {
                if (!this.audioContext) return;
                
                const ctx = this.audioContext;
                const oscillator = ctx.createOscillator();
                const gainNode = ctx.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(ctx.destination);
                
                oscillator.frequency.setValueAtTime(800, ctx.currentTime);
                oscillator.type = 'sine';
                
                gainNode.gain.setValueAtTime(0.08, ctx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.08);
                
                oscillator.start(ctx.currentTime);
                oscillator.stop(ctx.currentTime + 0.08);
            },

            // Som de fechar/voltar
            playClose() {
                if (!this.audioContext) return;
                
                const ctx = this.audioContext;
                const oscillator = ctx.createOscillator();
                const gainNode = ctx.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(ctx.destination);
                
                oscillator.frequency.setValueAtTime(400, ctx.currentTime);
                oscillator.frequency.exponentialRampToValueAtTime(250, ctx.currentTime + 0.12);
                oscillator.type = 'sine';
                
                gainNode.gain.setValueAtTime(0.2, ctx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.12);
                
                oscillator.start(ctx.currentTime);
                oscillator.stop(ctx.currentTime + 0.12);
            },

            // Som de pop (para abrir modais)
            playPop() {
                if (!this.audioContext) return;
                
                const ctx = this.audioContext;
                const oscillator = ctx.createOscillator();
                const gainNode = ctx.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(ctx.destination);
                
                oscillator.frequency.setValueAtTime(300, ctx.currentTime);
                oscillator.frequency.exponentialRampToValueAtTime(600, ctx.currentTime + 0.08);
                oscillator.type = 'sine';
                
                gainNode.gain.setValueAtTime(0.25, ctx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.15);
                
                oscillator.start(ctx.currentTime);
                oscillator.stop(ctx.currentTime + 0.15);
            },

            // Som de teclado mec√¢nico (estilo Cherry MX Blue)
            playKeyPress() {
                if (!this.audioContext) return;
                
                const ctx = this.audioContext;
                const now = ctx.currentTime;
                
                // Criar ru√≠do branco para o "click" mec√¢nico
                const bufferSize = ctx.sampleRate * 0.03; // 30ms
                const noiseBuffer = ctx.createBuffer(1, bufferSize, ctx.sampleRate);
                const output = noiseBuffer.getChannelData(0);
                
                for (let i = 0; i < bufferSize; i++) {
                    output[i] = Math.random() * 2 - 1;
                }
                
                const whiteNoise = ctx.createBufferSource();
                whiteNoise.buffer = noiseBuffer;
                
                // Filtro para dar o som "clicky" caracter√≠stico
                const filter = ctx.createBiquadFilter();
                filter.type = 'bandpass';
                filter.frequency.setValueAtTime(3000 + Math.random() * 1000, now);
                filter.Q.setValueAtTime(1.5, now);
                
                // Ganho com envelope r√°pido
                const gainNode = ctx.createGain();
                gainNode.gain.setValueAtTime(0.15 + Math.random() * 0.05, now);
                gainNode.gain.exponentialRampToValueAtTime(0.01, now + 0.025);
                
                // Tom de "spring" do switch mec√¢nico
                const oscillator = ctx.createOscillator();
                oscillator.type = 'square';
                oscillator.frequency.setValueAtTime(1800 + Math.random() * 400, now);
                oscillator.frequency.exponentialRampToValueAtTime(600, now + 0.015);
                
                const oscGain = ctx.createGain();
                oscGain.gain.setValueAtTime(0.03, now);
                oscGain.gain.exponentialRampToValueAtTime(0.001, now + 0.02);
                
                // Conectar noise
                whiteNoise.connect(filter);
                filter.connect(gainNode);
                gainNode.connect(ctx.destination);
                
                // Conectar oscillator
                oscillator.connect(oscGain);
                oscGain.connect(ctx.destination);
                
                // Tocar
                whiteNoise.start(now);
                whiteNoise.stop(now + 0.03);
                oscillator.start(now);
                oscillator.stop(now + 0.02);
            },

            // Som de soltar a tecla (key up)
            playKeyRelease() {
                if (!this.audioContext) return;
                
                const ctx = this.audioContext;
                const now = ctx.currentTime;
                
                // Som mais suave e curto para o release
                const bufferSize = ctx.sampleRate * 0.015;
                const noiseBuffer = ctx.createBuffer(1, bufferSize, ctx.sampleRate);
                const output = noiseBuffer.getChannelData(0);
                
                for (let i = 0; i < bufferSize; i++) {
                    output[i] = Math.random() * 2 - 1;
                }
                
                const whiteNoise = ctx.createBufferSource();
                whiteNoise.buffer = noiseBuffer;
                
                const filter = ctx.createBiquadFilter();
                filter.type = 'highpass';
                filter.frequency.setValueAtTime(2000, now);
                
                const gainNode = ctx.createGain();
                gainNode.gain.setValueAtTime(0.06, now);
                gainNode.gain.exponentialRampToValueAtTime(0.001, now + 0.015);
                
                whiteNoise.connect(filter);
                filter.connect(gainNode);
                gainNode.connect(ctx.destination);
                
                whiteNoise.start(now);
                whiteNoise.stop(now + 0.015);
            },

            addClickListeners() {
                // Delega√ß√£o de eventos para cliques
                document.addEventListener('click', (e) => {
                    const target = e.target.closest('button, a, [onclick], .clickable, .game-card, .glossy-btn, .glossy-btn-green');
                    if (target) {
                        this.playClick();
                    }
                });

                // Sons espec√≠ficos para inputs ao focar
                document.addEventListener('focusin', (e) => {
                    if (e.target.matches('input, textarea')) {
                        this.playHover();
                    }
                });

                // Som de teclado mec√¢nico ao digitar
                document.addEventListener('keydown', (e) => {
                    if (e.target.matches('input, textarea')) {
                        // Ignorar teclas de controle que n√£o "digitam"
                        if (e.key === 'Shift' || e.key === 'Control' || e.key === 'Alt' || 
                            e.key === 'Meta' || e.key === 'CapsLock' || e.key === 'Tab' ||
                            e.key === 'Escape' || e.key === 'ArrowUp' || e.key === 'ArrowDown' ||
                            e.key === 'ArrowLeft' || e.key === 'ArrowRight') {
                            return;
                        }
                        this.playKeyPress();
                    }
                });

                // Som de soltar a tecla
                document.addEventListener('keyup', (e) => {
                    if (e.target.matches('input, textarea')) {
                        if (e.key === 'Shift' || e.key === 'Control' || e.key === 'Alt' || 
                            e.key === 'Meta' || e.key === 'CapsLock' || e.key === 'Tab' ||
                            e.key === 'Escape' || e.key === 'ArrowUp' || e.key === 'ArrowDown' ||
                            e.key === 'ArrowLeft' || e.key === 'ArrowRight') {
                            return;
                        }
                        this.playKeyRelease();
                    }
                });
            }
        };

        // Inicializar sons ap√≥s primeira intera√ß√£o (necess√°rio para Web Audio API)
        document.addEventListener('click', function initSound() {
            SoundFX.init();
            document.removeEventListener('click', initSound);
        }, { once: true });
    </script>
</body>
</html>
